<html>

<head>
    <title>Naaniz testing Bot</title>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:500&display=swap" rel="stylesheet">

    <!--Import Font Awesome Icon Font-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

    <!--Import materialize.css-->
    <link rel="stylesheet" type="text/css" href="static/css/materialize.min.css">

    <!--Main css-->
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>
	<h3 class="deep-orange lighten-3 center-align">Naaniz Whatsapp Bot Payloads</h3>
	<div class="container">
	<h5>How to run?</h5>
	<div class="row">
		<p>
			<ol>
				<li>Since this Chat UI communicates with the Rasa server using custom_rest channel, make sure you have added rest channel in the credentials.yml file</li>
				<li>Once you have developed your bot and you are ready to integrate the bot with the UI, you can start the Rasa server using the below command

				<b>rasa run -m models --enable-api --cors "*" --debug</b>
				</li>
				<li>Run actions server as well<b>rasa run actions --actions actionserver.actions</b></li>
			</ol>
       <li>Now forward the 5005 rasa server port on your system by running this 
        <b>ngrok http 5005</b> After this copy the <b>https://<-ngrok-url>/webhooks/custom_rest/webhook/</b> url and paste it in the twilio whatsapp sandbox webhook setup.
        </li>
			<i>Once you have you Rasa server up and running, you can test the bot by running 
        in that <b>Twilio whatsapp sandbox number.</b></i>
		</p>
	</div>
	<h5>Respones</h5>
	<div class="row card-panel purple lighten-5">
				<h5 style="color: blue">Text</h5>
			<ul>
				<li>sending response from domain.yml <b>responses:
				<pre><code>utter_greet:
           custom:
              platform: whatsapp
              payload: text
              text: "Please select a option"                 
               </code></pre></b></li>
				<li>sending response from custom actions actions.py
				<b><pre><code>
          messsage = {
            "platform": "whatsapp",
            "payload": "text",
            "text": "Hello!!"
          }
          dispatcher.utter_message(json_message=messsage)</code></pre></b>
				</li>
			</ul>
	</div>
		<div class="row card-panel purple lighten-5">
				<h5 style="color: blue">Images</h5>
			<ul>
				<li>sending response from domain.yml <b>responses:
				<pre><code>utter_cheer_up:
  -custom:
    platform: whatsapp
    payload: image
    data:
      - url: "https://i.imgur.com/nGF1K8f.jpg"
        text: Here is something to
        cheer you up ðŸ˜‰"
      - url: "https://i.imgur.com/nGF1K8f.jpg"
    </code></pre></b></li>
				<li>sending response from custom actions actions.py

				<b><pre><code>
          message = {
            "platform": whatsapp,
            payload: image,
            data:[
            {
              "url":"url",
              "text": "hasjahsjadh"
            },
            {
              "url":"url"
            }]
          }
          dispatcher.utter_message(json_message= messsage)</code></pre></b>
				</li>
			</ul>
	</div>

	</div>


    <!--JavaScript at end of body for optimized loading-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="static/js/materialize.min.js"></script>

    <!--Main Script -->
    <script type="text/javascript" src="static/js/script.js"></script>

    <!--Chart.js Script -->
    <script type="text/javascript" src="static/js/chart.min.js"></script>

</body>

</html>
